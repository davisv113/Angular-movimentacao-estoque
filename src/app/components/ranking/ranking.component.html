<div class="p-6">
  <div class="flex flex-col md:flex-row gap-8">
    <div class="w-full md:w-1/3 space-y-6">
      <div class="bg-indigo-50 border-l-4 border-indigo-500 p-5 rounded-md shadow-sm">
        <div class="flex items-center gap-2 mb-3">
          <span class="material-symbols-outlined text-indigo-800">rule</span>
          <h3 class="font-bold text-indigo-900 text-lg m-0">Regras de Comissão</h3>
        </div>
        <ul class="space-y-2 text-indigo-800 text-sm">
          <li class="flex justify-between border-b border-indigo-200 pb-1">
            <span>Vendas &lt; R$ 100,00</span><span class="font-bold">0%</span>
          </li>
          <li class="flex justify-between border-b border-indigo-200 pb-1">
            <span>R$ 100,00 ≤ Vendas &lt; R$ 500,00</span><span class="font-bold">1%</span>
          </li>
          <li class="flex justify-between pb-1">
            <span>Vendas ≥ R$ 500,00</span><span class="font-bold">5%</span>
          </li>
        </ul>
      </div>

      <div class="bg-green-50 rounded-xl p-6 border border-green-100 text-center shadow-sm">
        <div class="text-sm text-green-600 font-bold uppercase tracking-wider mb-1">
          Total Geral de Vendas
        </div>
        <div class="text-4xl font-extrabold text-green-700">
          {{ totalGeralVendas() | currency : 'BRL' }}
        </div>
      </div>
    </div>

    <div class="w-full md:w-2/3">
      <div class="flex items-center mb-4 gap-3">
        <span class="material-symbols-outlined text-yellow-500 text-2xl">emoji_events</span>
        <h2 class="text-2xl font-bold text-gray-800 m-0">Ranking de Vendedores</h2>
      </div>

      <div class="overflow-hidden rounded-xl border border-gray-200 shadow-md bg-white">
        <table class="w-full">
          <thead class="bg-gray-50 text-sm text-gray-700">
            <tr>
              <th class="p-3 text-center w-16">#</th>
              <th class="p-3 text-left">Vendedor</th>
              <th class="p-3 text-center">Qtd. Vendas</th>
              <th class="p-3 text-right">Total Vendas</th>
              <th class="p-3 text-right">Comissão</th>
            </tr>
          </thead>
          <tbody>
            @for (element of ranking(); track element.vendedor; let i = $index) {
              <tr class="border-t hover:bg-gray-50">
                <td class="p-3 text-center">
                  <div
                    [ngClass]="{
                      'bg-yellow-400': i === 0,
                      'bg-gray-400': i === 1,
                      'bg-orange-400': i === 2,
                      'bg-indigo-100 text-indigo-800': i > 2
                    }"
                    class="w-8 h-8 rounded-full flex items-center justify-center font-bold text-white mx-auto shadow-sm"
                  >
                    {{ i + 1 }}º
                  </div>
                </td>
                <td class="p-3 font-medium text-gray-700 text-lg">{{ element.vendedor }}</td>
                <td class="p-3 text-center">
                  <span class="bg-gray-100 px-2 py-1 rounded text-xs font-bold text-gray-600">
                    {{ element.qtdVendas }}
                  </span>
                </td>
                <td class="p-3 text-right text-indigo-700 font-medium">
                  {{ element.totalVendas | currency : 'BRL' }}
                </td>
                <td class="p-3 text-right text-green-700 font-bold bg-green-50">
                  {{ element.totalComissao | currency : 'BRL' }}
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
